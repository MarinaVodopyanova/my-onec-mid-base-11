# Добавление объектов метаданных

## Для справочника Контрагенты добавлена возможность хранения перечня контактных лиц.

- для Контрагента можно хранить неограниченное количество Контактных лиц;
- Список Контактных лиц открывается из формы Контрагента или отображается на форме в виде списка с возможностью добавления новых контактных лиц и их данных;
- для контактного лица есть возможность указать:
  - ФИО — Строка до 150 символов, обязательно к заполнению;
  - Контактный телефон — Строка до 50 символов, обязательно к заполнению;
  - Должность — Отдельный справочник, обязательно к заполнению;
  - Действует на основании — Строка до 150 символов, необязательно к заполнению;
  - Заметка — Строка неограниченной длины, необязательно к заполнению;
- Во всех формах документов под полем Договор выведено поле Контактное лицо, выбор контактных лиц осуществляется по тому Контрагенту, который указан в документе.
- настроено представление Контрагента так, чтобы, если заполнено поле «Действует на основании», оно отображается в представлении Контактного лица.

# Доработка программного кода.

## В документ «Заказ покупателя» добавлено поле «Согласованная скидка», значение указанное в поле учитывается в документе.

Скидка учитывается при расчёте суммы по каждой строке табличной части, то есть сумма в каждой строке табличного документа уменьшается на указанный в шапке процент. Клиент может изменять размер процента скидки. Добавлена кнопка пересчёта табличной части с учётом введённой скидки. При изменении поля пользователю задается вопрос о необходимости пересчёта табличной части. Если таблица пустая, вопрос не задается.
При пересчёте учитывается цена и количество, а не просто уменьшается сумма на указанный процент, при этом несколько нажатий на кнопку не уменьшают сумму последовательно. Скидка применяется как для таблицы Товары, так и для таблицы Услуги.

***Задание выполнено на основе демо-базы для 4 модуля курса 1С:Разработчик Нетологии***




# Демо-база для 4 модуля курса 1С:Разработчик Нетологии

## Интегрированные подсистемы

### Контактная информация

Интегрирована в справочники Контрагенты и Организации. Подключен механизм характеристик для вывода в списки и отчеты. По умолчанию добавлены Адрес, Телефон, EMail. Для телефона и EMail доступны множественные значения.

### Свойства

Интегрирована в справочники Контрагенты и Организации. Подключен механизм характеристик для вывода в списки и отчеты.

### Подключаемые команды

Интегрирована в документы Поступление товаров и услуг, Реализация товаров и услуг, Заказ покупателя, Оплата поставщику, Оплата от покупателя
Реализован ввод Реализации товаров и услуг, Оплаты от покупателя на основании Заказа покупателя

### Работа с файлами

Возможность прикреплять файлы реализована для справочников Контрагенты, Организации, Договоры контрагентов и документов Реализация товаров и услуг, Поступление товаров и услуг и Заказ покупателя.
Для справочников присоединенные файлы можно хранить в иерархии.
В формы списков выведена колонка со скрепкой.

### Структура подчиненности

Связаны в цепочку документы Заказ покупателя, Реализация товаров и услуг, Оплата от покупателя

### Печать

Реализованы печатные формы в формате XML для документа Заказ покупателя: Счет, Заказ, Гарантийное письмо. Реализована возможность вывода комплекта документов. Доступно редактирование макетов через стандартные настройки БСП.

### Управление доступом

Добавлены профили: Главный бухгалтер, Менеджер по продажам, Мендежер по закупкам. Включено упрощенное управление правами доступа.

### Варианты отчетов

Добавлена панель отчетов в главный раздел. Добавлены отчеты Задолженность покупателей и Задолженность поставщикам.
